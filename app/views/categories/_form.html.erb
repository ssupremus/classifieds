<div class="container">
  <div class="row">
    <div class="container">
      <div class="card-panel">
        <h5 class="center"><%= @category.new_record? ? 'New Basic Category' : 'Edit Basic Category'%></h5>
        <%= form_for @category, data: { errors: @category.errors.full_messages, error: flash[:notice] } do |f|%>
          <div class="input-field">
            <%= f.text_field :title, autofocus: true, autocomplete: "off" %>
            <%= f.label :title %>
          </div>
          <div class="input-field">
            <%= f.text_field :eng_title, autofocus: true, autocomplete: "off" %>
            <%= f.label :eng_title %>
          </div>
          <div class="input-field">
            <%= f.text_field :description %>
            <%= f.label :description %>
          </div>
          <% if !(@category.new_record?) %>
            <h5>Subcategories list</h5>
            <ul>
              <% @category.subcategories.each do |subcategory| %>
                <li><%= subcategory.title %>
                  <%= link_to '<i class="material-icons tiny">edit</i>'.html_safe, edit_category_subcategory_path(@category.id, subcategory.id) %>
                  <%= link_to '<i class="red-text material-icons tiny">delete_forever</i>'.html_safe,
                      category_subcategory_path(@category.id, subcategory.id),
                      data: { confirm: "Are you sure? All ads of this category will be destroyed." },
                      method: "delete" %>
                </li>
              <% end %>
            </ul>
            <%= link_to 'Add Subcategory', new_category_subcategory_path(@category.id) %>
          <% end %>
          <div class="input-field">
            <%= f.button('<i class="material-icons right">arrow_forward</i>Submit'.html_safe,
                      class: 'btn lighten-2 waves-effect waves-light') %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
